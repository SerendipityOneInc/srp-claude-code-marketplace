CREATE TABLE `srpproduct-dc37e.favie_dw.dwd_favie_gensmo_moodboard_product_inc_1d`
(
  moodboard_id STRING OPTIONS(description="the id of moodboard"),
  moodboard_task_id STRING OPTIONS(description="the task id"),
  moodboard_index INT64 OPTIONS(description="the index (order) of moodboard in the search result"),
  raw_query STRING OPTIONS(description="the search query user typed to get this moodboard."),
  moodboard_created_user_id STRING OPTIONS(description="the user id who created this moodboard."),
  moodboard_user_gender STRING OPTIONS(description="the gender of the user who created this moodboard"),
  moodboard_created_time TIMESTAMP OPTIONS(description="the created time of moodboard"),
  moodboard_updated_time TIMESTAMP OPTIONS(description="the update time of moodboard"),
  moodboard_description STRING OPTIONS(description="moodboard description generated by ai"),
  moodboard_is_feed BOOL OPTIONS(description="is it a feed flow moodboard"),
  moodboard_is_try_on BOOL OPTIONS(description="is it a try on moodboard"),
  moodboard_hashtags STRING OPTIONS(description="hashtags of moodboard"),
  moodboard_image_url STRING OPTIONS(description="the image url of generated moodboard."),
  user_image_tag STRING OPTIONS(description="the type of dress (ex.top) uploaded by user"),
  user_image_url STRING OPTIONS(description="the url of image uploaded by user"),
  user_image_description STRING OPTIONS(description="description generated by ai for user image"),
  moodboard_liked_count INT64 OPTIONS(description="the liked count of moodboard."),
  moodboard_saved_count INT64,
  moodboard_shared_count INT64 OPTIONS(description="the shared count of moodboard."),
  intention STRING OPTIONS(description="the intention of user for creating this moodboard, chose by user"),
  reasoning STRING OPTIONS(description="why this outfit? generated by ai"),
  is_onboard BOOL OPTIONS(description="是否新用户引导阶段"),
  moderation_status STRING OPTIONS(description="the status of moodboard to feed flow (ex.pending)"),
  publisher STRING OPTIONS(description="the publisher of moodboard (our staff email address)"),
  product_id STRING OPTIONS(description="the product id"),
  product_created_time TIMESTAMP OPTIONS(description="the created time of this product in our system"),
  product_updated_time TIMESTAMP OPTIONS(description="the updated time of this product in our system"),
  product_brand STRING OPTIONS(description="the brand of the product"),
  product_norm_brand STRING OPTIONS(description="the normalized brand name of this product"),
  product_brand_link STRING OPTIONS(description="the brand link of the product"),
  product_link STRING OPTIONS(description="the link to buy this product"),
  product_site STRING OPTIONS(description="the main site of buy link"),
  product_platform STRING OPTIONS(description="the platform where we source this product"),
  product_title STRING OPTIONS(description="the title of this product in buy site"),
  product_collage_category STRING OPTIONS(description="the category of product like top"),
  product_tags JSON OPTIONS(description="the tags of this product in json format"),
  product_display_image STRING,
  product_main_image STRING OPTIONS(description="the main image url of this product"),
  qp_query STRING OPTIONS(description="the query that searched this product (generated from raw_query)"),
  search_engine STRING OPTIONS(description="the search engine that sourced this product"),
  time_gap INT64 OPTIONS(description="the time gap in seconds between moodboard created time and product update time"),
  dt DATE OPTIONS(description="the date of the data created")
)
PARTITION BY dt
OPTIONS(
  require_partition_filter=true
);